<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>regitlab 使用指南</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
        }
        .last-updated {
            color: #7f8c8d;
            font-size: 14px;
            margin-bottom: 30px;
        }
        .step {
            background-color: #f8f9fa;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }
        code {
            background-color: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: "Courier New", monospace;
        }
    </style>
</head>
<body>
    <h1>regitlab 使用指南</h1>
    <p class="last-updated">最后更新日期：2026年1月</p>

    <h2>1. 初始配置</h2>
    <p>安装插件后，建议先固定扩展到浏览器工具栏，然后打开 regitlab 插件，进入插件设置页面。</p>
    
    <h3>1.1 配置编辑器类型</h3>
    <p>选择您常用的编辑器类型，自动打开编辑器的文件的路径和行号，并用于一键复制用户信息后打开对应的配置文件。</p>
    
    <h3>1.2 配置排除分支</h3>
    <p>在我的分支页面查看哪些分支不允许一键清除，添加到排除分支中，配置规则：使用英文逗号分隔，最多1000字。</p>

    <h3>1.3 AI 日报配置</h3>
    <p>在设置页面输入您的 GitLab 邮箱地址，用于查询您的提交记录。</p>
    <p>输入您常用的 GitLab 项目名称，结合邮箱获取在项目中的提交记录，用于自动生成周报日志。</p>
    <p>输入 Gemini API Key，该功能用于 Gemini API 调用，自动生成周报日志。（可不填，则仅获取提交记录）</p>
    <p>自定义周报生成的提示词模板，以控制生成内容的格式和风格。（可不填，则使用默认提示词）</p>

    <h2>2. 主要功能</h2>

    <h3>2.1 分支快速选择</h3>
    <p>在 GitLab 项目页面，插件会自动增强分支选择功能，帮助您快速切换和选择分支。</p>
    <div class="step">
        <p>在分支选择下拉框中，1表示dev，2表示uat，3表示stable-uat，4表示stable</p>
    </div>
    <p>流水线手动部署时，快速返回dev、uat、stable-uat、stable分支，供选择（原接口特别慢，且通常失败2-3次）。</p>

    <h3>2.2 创建 Pull Request / 接受 Pull Request</h3>
    <p>使用插件可以快速创建 Pull Request，自动填充相关信息，随后可以快速接受 Pull Request，简化接受流程。</p>

    <h3>2.3 生成周报日志（自动查询提交记录）</h3>
    <p>插件可以根据您配置的邮箱地址，自动查询并显示您在 GitLab 中的提交记录，然后基于您的提交记录和配置的提示词模板，自动生成周报内容。</p>

    <h3>2.4 运行 CI/CD 流水线</h3>
    <p>在 GitLab 项目页面，可以快速触发 CI/CD 流水线的运行。</p>

    <h3>2.5 一键获取灰度环境用户信息</h3>
    <p>在灰度环境页面，可以一键获取灰度环境用户信息，复制到剪贴板，并打开对应编辑器。</p>

    <h2>3. 自定义 URL 按钮</h2>
    <p>您可以在插件设置中添加自定义 URL 按钮，用于快速跳转到常用页面。</p>
    <p>在设置页面找到"自定义 URL 按钮"选项，点击"添加"按钮，输入按钮名称和目标 URL 即可。</p>

    <h2>4. 使用场景</h2>
    <ul>
        <li>快速创建和提交 Pull Request</li>
        <li>查看和管理个人提交记录</li>
        <li>自动生成工作周报</li>
        <li>快速切换 GitLab 分支</li>
        <li>一键触发 CI/CD 流水线</li>
        <li>一键获取灰度环境用户信息，复制到剪贴板，并打开对应编辑器</li>
    </ul>

    <h2>5. 注意事项</h2>
    <ul>
        <li>插件仅在以下域名下工作：<code>https://devops.cscec.com/*</code> 和 <code>https://dcs-uat-gray.cscec.com/*</code></li>
        <li>所有配置数据均存储在浏览器本地，不会上传到任何服务器</li>
        <li>使用 Gemini API 功能时，数据会发送到 Gemini 服务，请确保您已妥善保管 API Key</li>
        <li>卸载插件时，所有本地存储的数据会被清除</li>
    </ul>

    <h2>6. 常见问题</h2>
    
    <h3>Q: 插件无法正常工作？</h3>
    <p>A: 请确保您访问的是支持的 GitLab 域名，并且已正确配置邮箱和项目名称。</p>

    <h3>Q: 周报生成功能无法使用？</h3>
    <p>A: 请检查是否已正确配置 Gemini API Key，并确保网络连接正常。</p>

    <h3>Q: 如何清除所有配置？</h3>
    <p>A: 可以在插件设置页面手动删除各项配置，或卸载插件后重新安装。</p>

    <hr>
    <p style="text-align: center; color: #7f8c8d; font-size: 12px; margin-top: 40px;">
        © 2026 regitlab. 保留所有权利。
    </p>
</body>
</html>

